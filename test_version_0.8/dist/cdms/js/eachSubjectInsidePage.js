"use strict";define(["pageView"],function(e){var t=new e.pageFnc,n=t.getCommonFnc();t.getMemberFnc(),document;n._setAdd("/cdms"),t.setNav({fileDownload:{name:"fileDownload",id:".fileDownload",_event:"click",type:"POST",async:"false",url:"BoardDownload"}});var o=t.getNav();return t.setObservable({startForm:function(){this.readOneDocument(),this.writeOneDocument()},writeModalFormDone:function(e){event.preventDefault(),console.log(e)},fileDownload:function(){var e=event.target.href;event.preventDefault();var t={};t.href=e,console.log(t),n.$a(t,o.fileDownload)},fileDownloadDone:function(e){event.preventDefault(),console.log(e)},writeOneDocument:function(){$("#writeModal").on("hidden.bs.modal",function(){$(this).find("input,textarea,select").val("").end()}),$("#writeModalForm").on("submit",function(e){e.preventDefault();$(this).serialize();var t=document.getElementById("writeModalForm"),n=new FormData(t),o=$("#urlValue").val();n.append("page",o);var a=!0,r=!1,l=void 0;try{for(var i,d,c=n.entries()[Symbol.iterator]();!(a=(i=c.next()).done);a=!0)d=i.value,console.log(d[0]+", "+d[1])}catch(e){r=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(r)throw l}}$.ajax({url:"/cdms/writeBoard",type:"POST",data:n,processData:!1,contentType:!1,xhr:function(){var e=$.ajaxSettings.xhr();return e.upload&&(e.upload.onprogress=function(e){if(e.lengthComputable){var t=+(e.loaded/e.total*100),n=$(".progress-bar"),o=n.find("span");n.attr("aria-valuenow",t),n.css("width",t+"%"),o.text(t+"% Complete")}},e.onerror=function(e){console.log("Error"),console.log(e)},e.onload=function(){console.log(this.statusText),console.log("done")}),e}}).done(function(e){1==e&&(alert("글쓰기 완료"),$("#writeModal").modal("hide"),$(".placeholder table").load(location.href+" .placeholder table >"))})})},readOneDocument:function(){var e={name:"readOneDocument",type:"POST",async:"true",url:"readOneDocument"};$("#readModal").on("show.bs.modal",function(t){var o=$(t.relatedTarget),a={};a.recipient=o.data("whatever"),a.curPage=$("#urlValue").val(),n.$a(a,e)})},readOneDocumentDone:function(e){$("#readModal #recipient-name").val(e.name),$("#readModal #recipient-title").val(e.title),$("#readModal #message-text").val(e.content)}}),{init:t.init}});